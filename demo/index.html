<!DOCTYPE html>
<html>
<head>
    <title>Demo</title>
</head>
<body ng-app="MyApp" ng-controller="MyCtrl">

    <h3>Simple usage of mutant-ng-translate</h3>

    {{ values["HELLO-WORLD"] }}<br/>
    {{ values["HELLO-FOO"] }}<br/>

    <script src="../bower_components/angular/angular.js"></script>
    <script src="../src/translate.js"></script>

    <script>
        (function() {
            angular.module('MyApp', ['mutant-ng-translate'])
                .controller('MyCtrl', [
                    '$scope', '$translateStorage', '$translateLoader', function ($scope, $translateStorage, $translateLoader) {
                        var langKey = 'en';
                        var urlTemplate = '/locale-{part}-{lang}.json';

                        var directTransformation = function (values) {
                            console.log(values);
                            return values;
                        };

                        $scope.values = $translateStorage.setValues(langKey, {});
                        $scope.values = $translateStorage.getValues(langKey);

                        $translateLoader
                            .loadPart({ part: 'first', lang: langKey, urlTemplate: urlTemplate, dataTransformation: directTransformation })
                            .then(function(values) {
                                $translateStorage.setValues(langKey, values);
                            });

                        $translateLoader
                            .loadPart({ part: 'second', lang: langKey, urlTemplate: urlTemplate, dataTransformation: directTransformation })
                            .then(function (values) {
                                $translateStorage.setValues(langKey, values);
                            });
                    }
                ]);
        })();
    </script>

</body>
</html>
